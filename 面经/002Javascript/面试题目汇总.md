# 1. 0.1 + 0.2 === 0.3ï¼Ÿ

JS éµå¾ª IEEE 754 æ ‡å‡†ï¼Œé€šè¿‡ 64 ä½æ¥è¡¨ç¤ºä¸€ä¸ªæ•°ï¼Œæ‰€ä»¥å­˜åœ¨æœ€å¤§å€¼ï¼Œè¶…è¿‡æœ€å¤§å€¼å‘ç”Ÿæˆªæ–­ã€‚

åŠ æ³•è®¡ç®—å…ˆè¦è½¬æˆäºŒè¿›åˆ¶ï¼Œ0.1 å’Œ 0.2 è½¬æˆäºŒè¿›åˆ¶éƒ½æ˜¯æ— é™å¾ªç¯çš„ï¼Œä½†æ˜¯ JS çš„æ•°æœ‰æœ€å¤§æ•°å­—ï¼Œè¶…è¿‡å°±æˆªæ–­ã€‚æˆªæ–­ä¹‹åå†è¿›è¡ŒåŠ æ³•è¿ç®—ï¼Œæ‰€ä»¥å­˜åœ¨ç²¾åº¦æŸå¤±ã€‚

## è§£å†³åŠæ³•

1. å°†æ•°å­—è½¬æˆæ•´æ•°ã€‚å°†å°æ•°ä¹˜ç›¸åº”å€æ•°å˜æˆæ•´æ•°ï¼Œä¾‹å¦‚ï¼š0.076 => 76ï¼›

   ```js
   function add(num1, num2) {
    const num1Digits = (num1.toString().split('.')[1] || '').length;
    const num2Digits = (num2.toString().split('.')[1] || '').length;
    const baseNum = Math.pow(10, Math.max(num1Digits, num2Digits));
    return (num1 * baseNum + num2 * baseNum) / baseNum;
   }
   ```

2. ç”¨åº“ã€‚

## å‚è€ƒ

1. https://juejin.cn/post/6844903680362151950

# 2. instanceofã€constructorã€Object.prototype.toString

## 1. å®ç° `instanceof`

```js
 function instanceof(L, R){
   const O = R.prototype;
   L = L.__proto__;
   while(true){
     if(L === null) return false;
     if(O === L) return true;
     L = L.__proto__;
   }
 }
```

## 2. `construtor`

`constructor` ä½œç”¨æ˜¯ï¼Œå¾—çŸ¥æŸä¸ªå®ä¾‹å¯¹è±¡çš„æ„é€ å‡½æ•°æ˜¯å“ªä¸ªã€‚

```js
var f = new F();
f.constructor === F;// true
```

ä½†æ˜¯ä¸å¤Ÿå¯é ï¼Œå› ä¸º `construtor` å¯èƒ½å‘ç”Ÿæ”¹å˜ï¼Œæ¯”å¦‚é‡å†™ `prototype` æ—¶ã€‚**æ‰€ä»¥ä¸ºäº†è§„èŒƒï¼Œé‡å†™æ—¶å¿…é¡»è¦é‡æ–°ç»™ `construtor` èµ‹å€¼ã€‚**

æ‰€ä»¥è§„èŒƒçš„ç»§æ‰¿å†™æ³•ä¸­è¦è®°å¾—èµ‹å€¼ `construtor`ï¼š

```js
function Dad(){
	this.name = 'Dad'
}
function Son(){
  // æ‹¿åˆ°æ„é€ ä½“å†…çš„å±æ€§
  Dad.call(this);
  this.username = 'Son';
}
// æ‹¿åˆ°åŸå‹é“¾ä¸Šçš„å±æ€§å’Œæ–¹æ³•
Son.prototype = Object.create(Dad.prototype);
// è¦†ç›– constructor
Son.prototype.constructor = Son;
```



## 3. `Object.prototype.toString()`

ä¹ä¸€çœ‹ä»¥ä¸ºæ˜¯æŠŠå¯¹è±¡è½¬æ¢æˆå­—ç¬¦ä¸²çš„æ–¹æ³•ï¼Œå…¶å®ä¸æ˜¯ã€‚è¿™ä¸ªæ–¹æ³•ç”¨æ¥ ==ç²¾ç¡®åˆ¤æ–­å¯¹è±¡çš„ç±»å‹==ã€‚

```js
Object.prototype.toString.call('') ;   // [object String]
Object.prototype.toString.call(1) ;    // [object Number]
Object.prototype.toString.call(true) ; // [object Boolean]
Object.prototype.toString.call(undefined) ; // [object Undefined]
Object.prototype.toString.call(null) ; // [object Null]
Object.prototype.toString.call(new Function()) ; // [object Function]
Object.prototype.toString.call(new Date()) ; // [object Date]
Object.prototype.toString.call([]) ; // [object Array]
Object.prototype.toString.call(new RegExp()) ; // [object RegExp]
Object.prototype.toString.call(new Error()) ; // [object Error]
Object.prototype.toString.call(document) ; // [object HTMLDocument]
Object.prototype.toString.call(window) ; //[object Window]
```

**å€¼å¾—æ³¨æ„çš„åœ°æ–¹ï¼š**

```js
> Object.prototype.toString.call(arr)
< "[object Array]"
> Object.prototype.toString(arr)
< "[object Object]"
```

è¿™é‡Œçš„ `call` æ˜¯ä»€ä¹ˆä½œç”¨å‘¢ï¼ŸJS å¯¹è±¡éƒ½ç»§æ‰¿è‡ª Object ï¼Œå½“æˆ‘ä»¬è°ƒç”¨ toString æ–¹æ³•æ—¶ï¼Œé¦–å…ˆæŸ¥æ‰¾è¯¥å…·ä½“å¯¹è±¡æ˜¯å¦æœ‰è¿™ä¸ªæ–¹æ³•ï¼Œæ²¡æœ‰å†è¿›å…¥ `prototype` åŸå‹é“¾ä¸­æŸ¥æ‰¾ï¼Œæœ€ç»ˆæ‰¾åˆ°é¡¶ç«¯ `Object.prototype` æ‰åœæ­¢ã€‚ä¾‹å¦‚ï¼š`arr.toString()=Array.prototype.toString()` ã€‚ä½†æ˜¯ï¼Œé€šè¿‡ `toString.call(arr)` å°† this æŒ‡å‘æ›´æ”¹ä¸ºè¿™ä¸ª `arr` ï¼Œæ‰€ä»¥==è¿™å¥è¯çš„æ„æ€æ˜¯æŠŠ `Object.prototype.toString` æ–¹æ³•æ›´æ”¹ `this` æŒ‡å‘ï¼Œå°†æ–¹æ³•èµ‹äºˆç»™ `arr` è®© `arr` æœ‰è¿™ä¸ªæ–¹æ³•ï¼Œç„¶åå†æ‰§è¡Œ==ã€‚

## æ€»ç»“

- `typeof` ï¼šåˆ¤æ–­åŸºæœ¬ç±»å‹ï¼Œå¯¹äºå¼•ç”¨ç±»å‹é™¤äº† function ä»¥å¤–éƒ½æ˜¯ object ã€‚
- `instanceof` ï¼šåŸºäºåŸå‹é“¾ï¼Œèƒ½åˆ¤æ–­ä¸Šå±‚æ„é€ å‡½æ•°ã€åŸå‹å¯¹è±¡ç­‰ã€‚
- `constructor` ï¼šä¸å¯ä¿¡èµ–ï¼Œæ³¨æ„é‡å†™æ—¶é‡æ–°èµ‹å€¼ã€‚
- `Object.prototyp.toString.call()` ï¼šèƒ½å‡†ç¡®åˆ¤æ–­å±äºå…·ä½“ä»€ä¹ˆç±»å‹çš„å¯¹è±¡ã€‚æ³¨æ„åŠ  `call` ã€‚

## å‚è€ƒ

1. https://juejin.cn/post/6844903623231537159



# 3. `Symbol`

`Symbol` èƒ½ç”Ÿæˆä¸€ä¸ªå…¨å±€å”¯ä¸€çš„å€¼ã€‚

```js
var race = {
  protoss: Symbol(),
  terran: Symbol(),
  zerg: Symbol()
}
race.protoss !== race.terran // true
race.protoss !== race.zerg // true
```

ä¹Ÿå¯ä»¥ç»™ `Symbol` ä¸€ä¸ªåå­—ï¼Œä¸è¿‡è¿™ä¸ªåå­—å°±æ˜¯æ³¨é‡Šæ²¡æœ‰ä»»ä½•å®é™…æ„ä¹‰ã€‚

```js
var race = {
  protoss: Symbol('protoss'),
  terran: Symbol('terran'),
  zerg: Symbol('zerg')
}
```

**ä¼˜åŠ¿ï¼šä»£æ›¿å­—ç¬¦ä¸²ï¼ŒæŠŠå†…å®¹è½¬å˜æˆå˜é‡å½¢å¼ï¼Œå¹¶ä¸”ç‹¬ä¸€æ— äºŒä¸ç”¨æ‹…å¿ƒæœ‰é‡å¤æ€§ã€‚**

## å…¶ä»–ç‰¹ç‚¹

1. `symbol` ä¸ä¼šè¢«å¸¸è§„çš„æ–¹æ³•(é™¤äº† `Object.getOwnPropertySymbols` å¤–)éå†åˆ°ï¼Œ==å¯ä»¥ç”¨äºæ¨¡æ‹Ÿç§æœ‰å˜é‡==ã€‚

   ```js
   var obj = {};
   obj[Symbol("a")] = "a";
   obj[Symbol.for("b")] = "b";
   obj["c"] = "c";
   obj.d = "d";
   for (var i in obj) {
      console.log(i); // logs "c" and "d"
   }
   ```

2. `symbol.iterator` å¯¹è±¡å¯ä»¥ä½¿ç”¨ `for...of` å¾ªç¯ã€‚ä½¿ç”¨ `next` è·å¾—ä¸‹ä¸€ä¸ªè¿­ä»£å™¨ï¼Œè¿­ä»£å™¨æœ‰ `value` å’Œ `done` æ–¹æ³•ã€‚

3. `symbol.for()` èƒ½å…¨å±€è®¿é—® `symbol` ã€‚





# 4. æ·±å…‹éš†

```js
function deepCopy(obj) {
  if (typeof obj === 'object') {
    var result = obj.constructor === Array ? [] : {};
    
    for (var i in obj) {
      result[i] = typeof obj[i] === 'object' ? deepCopy(obj[i]) : obj[i];
    }
  } else {
    var result = obj;
  }
  
  return result;
}
```



# 5. äº‹ä»¶æµ

å•ä¸ªäº‹ä»¶æ‰§è¡Œé¡ºåºï¼š

1. äº‹ä»¶æ•è·é˜¶æ®µ
2. ç›®æ ‡å…ƒç´ æ¥æ”¶äº‹ä»¶
3. äº‹ä»¶å†’æ³¡é˜¶æ®µ

åŒä¸€äº‹ç‰©é€šè¿‡ `addEventListener` è®¾ç½®å¤šä¸ªäº‹ä»¶æ—¶é¡ºåºæ‰§è¡Œï¼Œä½†æ˜¯æ»¡è¶³å…ˆæ•è·åå†’æ³¡çš„åŸåˆ™ã€‚

```js
<body>
  <div>
   <p id="parEle">æˆ‘æ˜¯çˆ¶å…ƒç´     <span id="sonEle">æˆ‘æ˜¯å­å…ƒç´ </span></p>
  </div>
<script type="text/javascript">
	var sonEle = document.getElementById('sonEle');
	var parEle = document.getElementById('parEle');

	parEle.addEventListener('click', function () {
    alert('çˆ¶çº§ å†’æ³¡');
	}, false);
	parEle.addEventListener('click', function () {
    alert('çˆ¶çº§ æ•è·');
	}, true);

	sonEle.addEventListener('click', function () {
    alert('å­çº§å†’æ³¡');
	}, false);
	sonEle.addEventListener('click', function () {
    alert('å­çº§æ•è·');
	}, true);
</script>
</body>
```

ä¸Šè¿°çš„æ‰“å°é¡ºåºä¸ºï¼š

- çˆ¶çº§æ•è·
- å­çº§å†’æ³¡
- å­çº§æ•è·
- çˆ¶çº§å†’æ³¡



# 6. äº‹ä»¶å¦‚ä½•å®ç°

==åŸºäºå‘å¸ƒè®¢é˜…æ¨¡å¼==

æµè§ˆå™¨åŠ è½½æ—¶ä¼šè¯»å–äº‹ä»¶çš„ç›¸å…³ä»£ç ï¼Œä½†åªæœ‰ç­‰åˆ°äº‹ä»¶è§¦å‘æ—¶æ‰ä¼šæ‰§è¡Œã€‚

## è‡ªå®šä¹‰äº‹ä»¶

```html
<body>
  <div class="container" style="color: red">
    <h1>hahahahahah</h1>
    <textarea></textarea>
  </div>
</body>
<script>
  const container = document.querySelector('.container');
  const textarea = document.querySelector('textarea');
  const handler = new Event('handler');
  document.addEventListener('handler', () => {
    let color = container.style.color;
    container.style.color = color === 'red' ? 'green' :'red';
    textarea.innerHTML = Math.random();
  });
  setInterval(() => document.dispatchEvent(handler), 200);
</script>
```





# 7. `new` çš„è¿‡ç¨‹

```js
// æ„é€ å‡½æ•°
const func = function(){};
// new è¿‡ç¨‹
const new1 = function(func){
  // 1.åˆ›é€ ä¸€ä¸ªæ–°å¯¹è±¡ï¼Œç»§æ‰¿è‡ªfunc.prototype
  const o = Object.create(func.prototype);
  // 2.æ‰§è¡Œfuncå¹¶è½¬ç§»thisçš„ä¸Šä¸‹æ–‡åˆ°oå¯¹è±¡
  const k = func.call(o);
  // 3.åˆ¤æ–­kæ˜¯å¦æ˜¯å¯¹è±¡ï¼Œå¦‚æœæ˜¯ç›´æ¥è¿”å›kï¼›ä¸æ˜¯å°±è¿”å›o
  if(typeof k === 'object') return k;
  else return o
}
```



# 8. é—­åŒ…

JS æ‰§è¡Œè¿‡ç¨‹åˆ†ä¸ºç¼–è¯‘é˜¶æ®µå’Œæ‰§è¡Œé˜¶æ®µã€‚

![image-20210206125051197](images/image-20210206125051197.png)



- ç¼–è¯‘é˜¶æ®µï¼šå°†ä»£ç ç¿»è¯‘æˆå¯æ‰§è¡Œä»£ç ï¼Œè¿™ä¸ªé˜¶æ®µä½œç”¨åŸŸä¼šç¡®å®šã€‚
- æ‰§è¡Œé˜¶æ®µï¼šç¼–è¯‘å™¨å¯»æ‰¾è¯¥ä½œç”¨åŸŸä¸­å˜é‡çš„ä½ç½®ï¼Œæ‰¾ä¸åˆ°å°±é€šè¿‡ä½œç”¨åŸŸé“¾å¾€ä¸Šæ‰¾åˆ° `window` ä¸Šçš„å˜é‡ï¼Œæ²¡æ‰¾åˆ°æ‰æŠ¥é”™ã€‚

## ä½œç”¨åŸŸ

Javascript çš„ç‰¹æ®Šä¹‹å¤„åœ¨äºèƒ½åœ¨å‡½æ•°å†…éƒ¨è¯»å–åˆ°å…¨å±€å˜é‡ã€‚

```js
var test = 'test';
function books(){
  let book = "ä¹¦æœ¬";
  console.log('window test', test);
}
console.log(book); // æ˜¯æ— æ³•è®¿é—®åˆ°bookå˜é‡
```

ä¸Šé¢çš„ä¾‹å­æ˜¯å› ä¸ºä½œç”¨åŸŸçš„å­˜åœ¨ã€‚==å…¨å±€ç¯å¢ƒ==ï½œ==å‡½æ•°ç¯å¢ƒ==ï½œ==Evalç¯å¢ƒ==

==æ‰§è¡Œæ—¶æ˜¯æ ˆçš„é¡ºåºã€‚==

<img src="images/image-20210207121830215.png" alt="image-20210207121830215" style="zoom: 33%;" />

å¯ä»¥å†çœ‹ä¸€ä¸ªä¾‹å­ï¼š

```js
var test = 'test';
function books(){
  var book = "ä¹¦åŒ…";
  // åŒ¿åå‡½æ•°çš„thisæŒ‡å‘windowï¼Œä½†æ˜¯å®ƒå¤„åœ¨bookså‡½æ•°ä¸­ï¼Œé€šè¿‡ä½œç”¨åŸŸé“¾èƒ½è®¿é—®åˆ°booksä¸­çš„bookå˜é‡
  return function(){
    console.log(this); // [object Window]
    console.log(book); // OK
    console.log('window.test', test); // OK
  }
}
var bag = books();
bag();
```

###  ç»å…¸é¢è¯•é¢˜

```js
for (var i = 0; i < 5; i++) {
  setTimeout(function () {
    console.log(i++);
  }, 1000);
}
console.log(i);
// å…ˆè¾“å‡º5ï¼Œ1ç§’åè¾“å‡º5 6 7 8
```

ä¸ºä»€ä¹ˆä¼šé€ æˆè¿™ç§æƒ…å†µå‘¢ï¼Ÿ`setTimout` çš„å†…å®¹éœ€è¦æ”¾åœ¨ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œ**æ”¾åœ¨ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„ç»“æœä¸æ˜¯ç«‹å³æ‰§è¡Œï¼Œæ‰€ä»¥ `i++` ä¸€ç›´æ”¾åœ¨é‚£é‡Œä¸å»æ‰§è¡Œ**ï¼Œæˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹æ‰§è¡Œçš„ä¸Šä¸‹æ–‡ã€‚

<img src="images/image-20210207123940943.png" alt="image-20210207123940943" style="zoom:33%;" />

é€ æˆ 1 ç§’åè¾“å‡º 5 6 7 8 çš„æœ¬è´¨åŸå› æ˜¯ï¼Œæ¯ä¸ª `setTimeout` æ²¡æœ‰åˆ›é€ è‡ªå·±çš„ä½œç”¨åŸŸï¼Œä¿å­˜èµ·æ¥å½“æ—¶çš„ `i`ã€‚è§£å†³è¿™ä¸ªé—®é¢˜å¾ˆç®€å•ã€‚æ¯æ¬¡éƒ½å³ä½¿åœ°æ‹¿åˆ° `i` å¹¶ä¸”ç«‹é©¬æ‰§è¡Œï¼Œå°±ä¸ä¼šå‡ºç°è¿™ä¸ªé—®é¢˜ï¼Œä¹Ÿå°±æ˜¯åœ¨ `setTimeout` ä¸­äº§ç”Ÿä¸€ä¸ªä½œç”¨åŸŸã€‚

1. ç«‹å³æ‰§è¡Œå‡½æ•°ï¼š

   ```js
   for (var i = 0; i < 5; i++) {
     // ç«‹å³æ‰§è¡Œå‡½æ•°è‡ªå·±æœ‰ä¸€ä¸ªä½œç”¨åŸŸï¼Œå°†å‚æ•°iå­˜èµ·æ¥
     (function (x) { // å½¢å‚x
       setTimeout(function () {
         console.log(x++);
       }, 1000);
     })(i); // å®å‚i
   }
   console.log(i);
   // è¾“å‡º5ï¼Œ1ç§’åè¾“å‡º 0 1 2 3 4
   ```

2. ä½¿ç”¨ `let` åˆ›é€ ä¸€ä¸ªå—çº§ä½œç”¨åŸŸï¼š

   ```js
   for ( let i=1; i<=5; i++) {
   	setTimeout( function timer() {
   		console.log( i );
   	}, i*1000 );
   }
   ```

## é—­åŒ…äº§ç”Ÿçš„æœ¬è´¨

å½“å‰ç¯å¢ƒä¸­å­˜åœ¨æŒ‡å‘çˆ¶çº§ä½œç”¨åŸŸå¼•ç”¨ã€‚

```js
function foo() {
    var a = 20;
    var b = 30;

    function bar() {
        return a + b;
    }

    return bar;
}

var bar = foo();
bar();
// å½“å‰æ‰§è¡Œçš„barå‡½æ•°æ±‡æ€»å­˜åœ¨çš„aå’Œbåœ¨çˆ¶çº§å…ƒç´ fooä¸­å­˜åœ¨ï¼Œæ‰€ä»¥äº§ç”Ÿé—­åŒ…ã€‚
```

## é—­åŒ…çš„åº”ç”¨åœºæ™¯

é—­åŒ…æœ€å¤§çš„ç”¨å¤„æ˜¯ï¼š

### 1. å¯ä»¥è¯»å–å‡½æ•°å†…éƒ¨çš„å˜é‡

### 2. è®©è¿™äº›å˜é‡çš„å€¼å§‹ç»ˆä¿å­˜åœ¨å†…å­˜ä¸­

```js
function f1() {
  var n = 999;
  nAdd = function () {
    n += 1;
  };
  function f2() {
    alert(n);
  }
  return f2;
}
var result = f1();
result(); // 999
nAdd();
result(); // 1000
```

ä¸Šé¢çš„ä¾‹å­å¯ä»¥çœ‹å‡ºï¼Œ`result` æ‰§è¡Œäº†ä¸¤æ¬¡ä½†æ˜¯ç»“æœä¸ä¸€æ ·ï¼Œæœ¬è´¨æ˜¯å› ä¸º `n` çš„çŠ¶æ€æ²¡æœ‰åœ¨å†…å­˜ä¸­åŠæ—¶è¢«æ¸…ç†ï¼Œæ‰€ä»¥ `nAdd()` èƒ½ç»§ç»­ç´¯åŠ ã€‚

**å› ä¸º `f1` æ˜¯ `f2` çš„çˆ¶å‡½æ•°ï¼Œè€Œ `f2` æ˜¯å…¨å±€å˜é‡ `result` çš„å¼•ç”¨ã€‚å¦‚æœ `result` æ²¡æœ‰è¢«æ¸…ç†ï¼Œé‚£ä¹ˆ `f1` ä¹Ÿä¸ä¼šè¢«æ¸…ç†ã€‚æ‰€ä»¥è°ƒç”¨ç»“æŸæ—¶å€™ï¼Œ`f1` ä¾ç„¶å­˜åœ¨åœ¨å†…å­˜ä¸­ï¼Œå…¶å†…éƒ¨å˜é‡ `n` ä¿æŒ `n+=1` çš„å€¼ï¼Œè¿™é€ æˆå˜é‡ n ä¸€ç›´å­˜åœ¨äºå†…å­˜ä¸­ã€‚**

==æ‰€ä»¥ï¼Œæ»¥ç”¨é—­åŒ…ä¼šé€ æˆå†…å­˜æ¶ˆè€—å¾ˆå¤§ã€‚è§£å†³åŠæ³•æ˜¯ï¼šé€€å‡ºå‡½æ•°ä¹‹å‰æŠŠä¸ä½¿ç”¨çš„å±€éƒ¨å˜é‡å…¨éƒ¨åˆ é™¤ã€‚==



### 3. æŸ¯é‡ŒåŒ–å’Œ bind

```js
function _add(a) {
    return function(b) {
        return function(c) {
            return a + b + c;
        }
    }
}
_add(1)(2)(3); // 6
```

è¿™ç§æ–¹æ³•è‡ªç”±åº¦åä½ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦è¿›è¡Œå°è£…ï¼ŒæŸ¯é‡ŒåŒ–çš„æœ¬è´¨å°±æ˜¯æŠŠå‚æ•°æ”¶é›†èµ·æ¥ã€‚

#### 1. ç®€å•å°è£…æŸ¯é‡ŒåŒ–çš„ add æ–¹æ³•

```js
function add(){
  //å°†æ•°ç»„çš„sliceæ–¹æ³•ç»™argumentsï¼Œsliceä¸ä¼ å‚æ•°ä»£è¡¨å¤åˆ¶ä¸€ä»½æ•°ç»„ã€‚
  let _args = Array.prototype.slice.call(arguments);
  let _add = function(){
    _args.push(...arguments);
    return _add;
  }
  // return fn ä¼šéšå¼è°ƒç”¨fn.toString()æ–¹æ³•å½¢æˆå­—ç¬¦ä¸²ç„¶åå†è¿”å›ï¼Œæ‰€ä»¥æˆ‘ä»¬åˆ©ç”¨è¿™ä¸ªç‰¹æ€§æ”¹å†™_addå‡½æ•°çš„toStringæ–¹æ³•ï¼Œè®©ä»–å…·æœ‰ä¸€å®šçš„åŠŸèƒ½ã€‚
  _add.toString = function(){
		return _args.reduce((a,b)=>a+b, 0);
  }
  
  return _add;
}
```



#### 2. å®ç°æŸ¯é‡ŒåŒ–

```js
function createCurry(func, args){
	const len = func.length;
  const args = args || [];
  
  return function(){
    const _args = Array.prototype.slice.apply(arguments);
    args.push(..._args);
    if(args.length < len) return createCurry.call(this, func, args);
    
    return func.apply(this, args);
  }
}
```



#### 3. å°è£…ä¸€ä¸ªèƒ½å…¼å®¹çš„ç›‘å¬äº‹ä»¶

```js
// ç«‹å³æ‰§è¡Œ
const whichEvent = (function(){
  if(window.addEventListener){
    return function(element, type, listener, useCapture){
      element.addEventListener(type, function(e){
        listener.call(element, e);
      }, useCapture);
    }
  }else if(window.attachEvent){
    return function(element, type, handler){
      element.attachEvent('on'+type, function(e){
        handler.call(element, e);
      })
    }
  }
})();
```



## å‚è€ƒ

1. ruanyifeng.com/blog/2009/08/learning_javascript_closures.html

# 9. this æŒ‡å‘é—®é¢˜æ±‡æ€»

è§£å†³ `this` é—®é¢˜éå¸¸ç®€å•ï¼Œå°±ä¸€å¥è¯ï¼š==this æ°¸è¿œæŒ‡å‘å®ƒçš„å·¦é‚»è°ƒç”¨å¯¹è±¡ã€‚== ä¸¾å‡ ä¸ªä¾‹å­å°±èƒ½ç«‹é©¬æ‡‚äº†ã€‚

1. å•å±‚åµŒå¥—ç±»å‹ï¼š

   ```js
   //æµè§ˆå™¨ç¯å¢ƒ
   var name = "outer windows";
   function a() {
       var name = "inner function";
       console.log(this.name); 
       console.log("inner:" + this);
   }
   a();
   console.log("outer:" + this)
   // output
   outer windows
   inner: [object Window]
   outer: [object Window]
   ```

   æ€è€ƒä¸€ä¸‹é‚£ä¸ªå¥è¯ã€‚`a()` å°±ç›¸å½“äº `window.a()` ï¼Œæ‰€ä»¥å·¦é‚»æ˜¯ `window` å¯¹è±¡ã€‚

2. å¤šå±‚åµŒå¥—ç±»å‹ï¼š

   è¿™é‡Œè¦æ³¨æ„åŒºåˆ† ==å˜é‡èµ‹å€¼== å’Œ ==å‡½æ•°æ‰§è¡Œ== ä¸¤ä¸ªæ¦‚å¿µã€‚`var b = a.fn` æ˜¯å¯¹å…¨å±€å˜é‡ b è¿›è¡Œèµ‹å€¼æ“ä½œï¼Œæ‰€ä»¥å˜é‡ b ä»£è¡¨çš„å‡½æ•°å¤„åœ¨ `window` ç¯å¢ƒä¸‹ï¼Œè‡ªç„¶æŒ‡å‘ `window` ã€‚å¦å¤–ä¸€ç§æ›´å®¹æ˜“çš„ç†è§£æ–¹å¼ï¼Œ==b ç›¸å½“äºå‡½æ•°çš„æŒ‡é’ˆï¼Œ`a.fn` ä¹Ÿæ˜¯è¿™ä¸ªå‡½æ•°çš„æŒ‡é’ˆï¼Œæ‰€ä»¥æ²¡æœ‰ä»»ä½•åŒºåˆ«ï¼Œ`this` æ²¡æ³•åœ¨ç¼–è¯‘æ—¶ç¡®è®¤ `this` ï¼Œåªèƒ½é€‰æ‹©æ‰§è¡Œçš„æ—¶å€™ç¡®è®¤==ã€‚å½“è°ƒç”¨æ—¶(b ç”± `window` è°ƒç”¨)ï¼Œæ‰§è¡Œæ˜¯åœ¨ `window` ä¸‹é¢çš„ã€‚æ‰€ä»¥è‡ªç„¶æŒ‡å‘ `window` ã€‚

   ```js
   //æµè§ˆå™¨ç¯å¢ƒ
   var name = "outer windows";
   var a = {
       name: "1 inner function",
       fn : function () {
           var name = "2 inner function"
           console.log(this.name); 
       }
   }
   var b = a.fn;
   b();
   // output ä¾ç„¶çœ‹åˆ°ï¼Œwindowä½œä¸ºè°ƒç”¨è€…
   "out windows"
   
   > b
   < Æ’ () {
             var name = '2 inner function';
             console.log(this.name);
           }
   ```



å¦å¤–æ³¨æ„:

1. ç®­å¤´å‡½æ•°çš„ `this` å–å†³äºä»–å¤–é¢ç¬¬ä¸€ä¸ªä¸æ˜¯ç®­å¤´å‡½æ•°çš„å‡½æ•°çš„ `this` ã€‚

2. åŒ¿åå‡½æ•°çš„ `this` æŒ‡å‘ `window` ã€‚

   ```js
   // 1.åŒ¿åå‡½æ•°
   function a() {
     (function () {
       console.log('åŒ¿åå‡½æ•°', this);
     })();
   }
   let b = { a: a };
   b.a();
   // output [object Window]
   
   // 2.æ™®é€šå‡½æ•°
   function a() {
     console.log(this);
   }
   let b = { a: a };
   b.a();
   // output [function a]
   ```

   





# 10. å®ç° callï½œapplyï½œbind

## `call`

```js
const obj = { name: 'abb' };
function person(age) {
  console.log(this.name);
  console.log(age);
}

Function.prototype.myCall = function (targetObj) {
  // console.log(this); å½“å‰çš„thisæŒ‡å‘Functionçš„è°ƒç”¨è€…person
  targetObj.p = this;
  const newArguments = [];
  for (let i = 1; i < arguments.length; i++) {
    newArguments.push(arguments[i]);
  }
  const res = targetObj.p(...newArguments);
  delete targetObj.p;
  return res;
};
person.myCall(obj, 18);
```

è¦ç‚¹ï¼š

1. åŸå‹å¯¹è±¡çš„æ–¹æ³•ä¸­ï¼Œ`this` æŒ‡å‘è¿™ä¸ªå½“å‰è°ƒç”¨çš„å‡½æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡è¿™ç§æ–¹å¼æŠŠ `person` å‡½æ•°ä½œä¸º `obj` çš„ä¸€ä¸ª `p` æ–¹æ³•ï¼Œ**ç›¸å½“äºå½“å‰çš„ `person` å‡½æ•°åœ¨ `obj` ä¸‹æ‰§è¡Œï¼Œå°±èƒ½ç”¨åˆ° `obj` çš„ `this` äº†ã€‚**
2. ä¸€å®šè¦æœ‰è¿”å›å€¼ï¼Œå› ä¸º `call` æ–¹æ³•å¯ä»¥èµ‹å€¼ç»™å…¶ä»–å˜é‡ï¼Œå¢åŠ å¥å£®æ€§ã€‚

## `apply`

```js
const obj = { name: 'abb' };
function person() {
  console.log(this.name);
  for (let i = 0; i < arguments.length; i++) {
    console.log(arguments[i]);
  }
}

Function.prototype.myApply = function (targetObj, arr) {
  const obj = targetObj || window;
  let res;
  obj.p = this;
  if (!arr) res = obj.p();
  else res = obj.p(...arr);
  delete obj.p;
  return res;
};
person.myApply(obj, [1, 23, 45, 2, 3]);
```



## `bind`

`bind` è¿”å›çš„æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå¹¶ä¸”è¦æ»¡è¶³å‡½æ•°æŸ¯é‡ŒåŒ–ã€‚

```js
const obj = { name: 'abb' };
function person(a, b, c) {
  console.log(this.name);
  console.log(a, b, c);
}

Function.prototype.myBind = function (targetObj) {
  console.log(arguments); //ç¬¬ä¸€ä¸ªæ‹¬å·çš„æ‰€æœ‰å‚æ•°
  const that = this;
  const newArguments1 = Array.prototype.slice.call(arguments, 1);
  return function () {
    console.log(arguments); // ç¬¬äºŒä¸ªæ‹¬å·çš„æ‰€æœ‰å‚æ•°
    const newArguments2 = Array.prototype.slice.call(arguments);
    that.apply(targetObj, [...newArguments1, ...newArguments2]);
  };
};
person.myBind(obj, 18)(19, 203); // æ»¡è¶³å‡½æ•°æŸ¯é‡ŒåŒ–
```

### æ³¨æ„è¦ç‚¹

> **ç”¨ `bind` çš„æ„é€ å‡½æ•°åˆ›å»ºå®ä¾‹å‡½æ•°ï¼Œä¸ä¼šç»§æ‰¿ç»‘å®šå¯¹è±¡çš„å±æ€§ï¼šæ ¹æ® `this` ç»‘å®šçš„å››å¤§è§„åˆ™ï¼š**
>
> 1. å…¨å±€ç¯å¢ƒï¼Œç»‘å®šåˆ° `window` ã€‚
> 2. å‡½æ•°ç‹¬ç«‹è°ƒç”¨æ—¶ï¼Œç»‘å®šåˆ° `window` ã€‚
> 3. è¢«åµŒå¥—çš„å‡½æ•°ç‹¬ç«‹è°ƒç”¨æ—¶ï¼Œç»‘å®šåˆ° `window` ã€‚
> 4. ...  [å‚è€ƒ](https://www.cnblogs.com/goloving/p/7806930.html)
>
> `new` ç»‘å®šçš„ä¼˜å…ˆçº§é«˜äº `bind` ï¼Œæ‰€ä»¥é€šè¿‡ `new` æ„é€ å®ä¾‹æ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œæ‰€ä»¥ä¸ä¼šç»§æ‰¿ç»‘å®šå¯¹è±¡çš„åŸå‹ï¼Œè€Œæ˜¯æ„é€ å‡½æ•°çš„åŸå‹ã€‚

`bind` æ–¹æ³•å¯ä»¥ä½¿ç”¨ `new` æ“ä½œï¼Œåªä¸è¿‡ç”¨äº†ä¹‹å `this` æŒ‡å‘å°±å¤±æ•ˆäº†ï¼š

```js
const obj = { name: 'abb' };
function person(a, b, c) {
  console.log(this.name);
  console.log(a, b, c);
}

let F1 = person.bind(obj, 1, 2);
let f1 = new F1(3);
// è¾“å‡º undefined 1 2 3 å› ä¸ºthiså¤±æ•ˆï¼Œæ‰€ä»¥this.name=undefined
```

æ‰€ä»¥åˆ¤æ–­æ˜¯å¦ä½¿ç”¨äº† `new` ä¹‹åè¦è¿›è¡Œä¸¤æ­¥ä¼˜åŒ–ï¼Œå¤±æ•ˆ `this` å’Œç»‘å®šåŸå‹å¯¹è±¡ï¼š

1. å¦‚ä½•åˆ¤æ–­æ˜¯å¦ä½¿ç”¨äº† `new` ï¼šä¸Šé¢çš„ `f1` æ˜¯ `F1` çš„å®ä¾‹å‡½æ•°ï¼Œæ‰€ä»¥ `f1` çš„æ„é€ å‡½æ•°æ˜¯ `F1` ã€‚åœ¨ `myBind` å†…éƒ¨ï¼Œé¦–å…ˆ `this` åº”è¯¥æŒ‡å‘ `F1` ï¼Œè€Œ `f1` å……å½“çš„æ˜¯ `myBind` çš„è¿”å›å‡½æ•°(å®ƒæŒ‡å‘ `bind` å‡½æ•°æ„é€ å¥½ä¹‹åæ‰§è¡Œçš„çš„ç»“æœ)ã€‚æ‰€ä»¥æˆ‘ä»¬å¾ˆå®¹æ˜“é€šè¿‡ `instanceof` åˆ¤æ–­å‡ºæ¥ï¼š

   ```js
   Function.prototype.myBind = function (targetObj) {
     console.log("myBind's this", this); // person
     const newFunc = function () {
       console.log(this instanceof newFunc); // true
     };
     return newFunc;
   };
   let F1 = person.myBind(obj, 1, 2);
   let f1 = new F1(3);
   ```

2. å½“ç”¨åˆ° `new` æ—¶ï¼Œå¦‚ä½•ä½¿ `this` å¤±æ•ˆï¼šä¸å»è¿›è¡Œ `this` æŒ‡å‘å°±å¥½ï¼ŒæŠŠæŒ‡å‘èµ‹ç»™ `person` ï¼Œä¹Ÿå°±æ˜¯ `myBind` ä¸­çš„ `this`ï¼Œè¿™ä¸ªå¾ˆç®€å•ï¼š

   ```js
   const obj = { name: 'abb' };
   function person(a, b, c) {
     console.log(this.name);
     console.log(a, b, c);
   
   Function.prototype.myBind = function (targetObj) {
     const that = this;
     const newArguments1 = Array.prototype.slice.call(arguments, 1);
     const newFunc = function () {
       const newArguments2 = Array.prototype.slice.call(arguments);
       const newArr = [...newArguments1, ...newArguments2];
       if (this instanceof newFunc) that.apply(this, newArr);
       else that.apply(obj, newArr);
     };
     return newFunc;
   };
   let F1 = person.myBind(obj, 1, 2);
   let f1 = new F1(3);
   ```

3. ä¿®æ”¹åŸå‹å¯¹è±¡ï¼šå°† `f1` çš„åŸå‹å¯¹è±¡æŒ‡å‘ `F1` ï¼Œåœ¨ `newBind` å†…éƒ¨ï¼Œ`f1` å°±æ˜¯è¿”å›ä½“çš„å‡½æ•° `newFunc` ï¼Œ`F1` ä¹Ÿå°±æ˜¯ `person` å°±æ˜¯ `myBind` çš„ `this` æŒ‡å‘ã€‚

   ```js
   newFunc.prototype = that.prototype;
   ```

   ä¸Šè¿°ä¿®æ”¹æ–¹å¼æœ‰å¼Šç«¯ï¼Œè¯¦ç»†å¯ä»¥çœ‹ç»§æ‰¿çš„å¤šç§æ–¹å¼ã€‚ç®€å•æ¥è¯´ï¼Œå¦‚æœæœ‰ä¸¤ä¸ªå®ä¾‹éƒ½æ˜¯é€šè¿‡ `F1` æ„é€ çš„ï¼Œé‚£ä¹ˆä»–ä»¬çš„å¼•ç”¨ç±»å‹çš„å±æ€§å°†å…±ç”¨ï¼Œä¿®æ”¹æ—¶å¯¹æ–¹çš„ä¹Ÿæ”¹å˜ã€‚æ¢å¥è¯è¯´ï¼Œè¿™ç§æ–¹å¼åªæ˜¯æŠŠ `newFunc` çš„å¼•ç”¨æŒ‡å‘äº†çˆ¶å‡½æ•°çš„ `prototype` ï¼Œæ²¡æœ‰çœŸæ­£ç»§æ‰¿åˆ°åŸå‹é“¾ã€‚æ‰€ä»¥æˆ‘ä»¬è¦ç”¨æ›´ä¸¥è°¨çš„æ–¹å¼ï¼Œé€šè¿‡ä¸€ä¸ªç©ºå‡½æ•°ï¼ŒæŠŠçˆ¶å‡½æ•° `F1` çš„åŸå‹å¯¹è±¡èµ‹ç»™è¿™ä¸ªç©ºå‡½æ•°ã€‚è¿™æ ·ï¼Œæ¯æ¬¡å®ä¾‹åŒ–ä¸€ä¸ªå®ä¾‹å‡½æ•°æ—¶ï¼Œéƒ½æ˜¯é‡æ–°å¼€è¾Ÿä¸€ä¸ªç©ºé—´ï¼Œä¸€ä¸ªæ–°çš„ç©ºå‡½æ•°ï¼Œæ‰€ä»¥ä¸å­˜åœ¨å†…å­˜æ³„æ¼ï¼ŒåŸå‹å¯¹è±¡äº’ç›¸å¼•ç”¨çš„æƒ…å†µã€‚

   ```js
   const o = function(){};
   o.prototype = that.prototype;
   newFunc.prototype = new o;
   ```

### å®Œæ•´ç‰ˆ

```js
Function.prototype.myBind = function (targetObj) {
  const that = this;
  const o = function () {};
  const newArguments1 = Array.prototype.slice.call(arguments, 1);
  const newFunc = function () {
    const newArguments2 = Array.prototype.slice.call(arguments);
    const newArr = [...newArguments1, ...newArguments2];
    if (this instanceof o) that.apply(this, newArr);
    else that.apply(obj, newArr);
  };
  o.prototype = that.prototype;
  newFunc.prototype = new o();
  return newFunc;
};
```



# 11. NaN æ˜¯ä»€ä¹ˆï¼Ÿ

NaN ä»£è¡¨ Not a Number

```js
typeof NaN === 'number'; // true
```









# 12. ä»€ä¹ˆæ˜¯JSéšå¼è½¬æ¢

## 1. ä½œä¸ºè¿”å›å€¼æ—¶çš„éšå¼è½¬æ¢

```js
Function.prototype.toString = function () {
  return 'æ”¹å†™å‡½æ•°çš„toStringæ–¹æ³•';
};
function test() {
  return function () {
    return 1 + 2;
  };
}
console.log(test()); // f æ”¹å†™å‡½æ•°çš„toStringæ–¹æ³•
```

éåŸºæœ¬ç±»å‹é¦–å…ˆè°ƒç”¨ `valueOf` æ–¹æ³•ï¼Œå¦‚æœæ²¡æœ‰ `valueOf` æ–¹æ³•ï¼Œå°±ä¼šè°ƒç”¨ `toString` æ–¹æ³•ã€‚éåŸºæœ¬ç±»å‹éƒ½æœ‰è‡ªå·±åŸå‹é“¾çš„ `toString` æ–¹æ³•ï¼Œå¦‚æœè¦è¿›è¡Œè¿”å›ï¼Œä¼šè‡ªåŠ¨éšå¼è°ƒç”¨åŸå‹é“¾ä¸Šçš„ `toString` æ–¹æ³•ã€‚ä¾‹å¦‚æ•°ç»„ï¼Œå°±æ˜¯è°ƒç”¨äº† `valueOf` çš„æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•å®é™…ç»‘å®šåœ¨ `Object` çš„åŸå‹å¯¹è±¡ä¸Šã€‚

```js
let arr = [1, 2, 3];
console.log(arr.valueOf());
console.log(arr);
// è¾“å‡ºåŒæ ·çš„å†…å®¹
```

## 2. æ•°æ®ç±»å‹é—´è½¬æ¢

1. å­—ç¬¦ä¸² => æ•°å­—ï¼š+/-
2. å¸ƒå°”å€¼ => æ•°å­—ï¼š
   - 1 + true = 2
   - 1 + false = 1
3. é€»è¾‘åˆ¤æ–­ä¸­çš„å¸ƒå°”å€¼ï¼š
   - ä¸‰å…ƒè¡¨è¾¾å¼
   - if
   - || å’Œ && ä¸­çš„å·¦è¾¹æ“ä½œç¬¦

## 3. å®½æ¾ç›¸ç­‰å’Œä¸¥æ ¼ç›¸ç­‰

- å®½æ¾ç›¸ç­‰æ—¶ï¼Œå¯ä»¥è¿›è¡Œå¼ºåˆ¶è½¬æ¢ï¼š

  ```js
  1 == true; // true
  ```

- ä¸¥æ ¼ç›¸ç­‰æ—¶ï¼Œä¸å…è®¸ï¼š

  ```js
  1 === true; // false
  ```



# 13. æ‰‹å†™ Promise

æ»¡è¶³åŸºæœ¬éœ€æ±‚ï¼š

```js
const PENDING = 'pending';
const FULFILLED = 'fulfilled';
const REJECTED = 'rejected';

function myPromise(executor) {
  const _this = this;
  this.FulfilledCb = [];
  this.RejectedCb = [];
  this.value = undefined;
  this.reason = undefined;
  this.status = PENDING;

  function resolve(value) {
    if (_this.status === PENDING) {
      _this.status = FULFILLED;
      _this.value = value;
      _this.FulfilledCb.forEach(fn => fn(value));
    }
  }
  function reject(reason) {
    if (_this.status === PENDING) {
      _this.status = REJECTED;
      _this.reason = reason;
      _this.RejectedCb.forEach(fn => fn(reason));
    }
  }

  try {
    executor(resolve, reject);
  } catch (err) {
    reject(err);
  }
}
myPromise.prototype.then = function (onFulfilled, onRejected) {
  if (typeof onFulfilled !== 'function' && typeof onRejected !== 'function') return;
  if (this.status === PENDING) {
    this.FulfilledCb.push(onFulfilled);
    this.RejectedCb.push(onRejected);
  } else if (this.status === FULFILLED) {
    onFulfilled(this.value);
  } else if (this.status === REJECTED) {
    onRejected(this.reason);
  }
};

// test
const fs = require('fs');
const path = require('path');
function readFile(fileName) {
  return new myPromise((resolve, reject) => {
    fs.readFile(fileName, 'utf-8', (err, res) => {
      if (err) reject(err);
      else resolve(res);
    });
  });
}
readFile(path.join(__dirname, 'index1.js'))
  .then(data => console.log(data));
```



==æ»¡è¶³é“¾å¼è°ƒç”¨==ï¼šé“¾å¼è°ƒç”¨æ‰æ˜¯éš¾ç‚¹ã€‚ä¹Ÿå°±æ˜¯è¯´æ¯ä¸ª `then` æ–¹æ³•éƒ½éœ€è¦è¿”å›ä¸€ä¸ªæ–°çš„ `Promise` å¯¹è±¡ã€‚





# 14. ç±»çš„ç§æœ‰ã€é™æ€æ–¹æ³•

```js
function Cat(name){
  this.name = name; // å…¬æœ‰å±æ€§ï¼šç»§æ‰¿çš„å®ä¾‹èƒ½è®¿é—®åˆ°
  var cry = "å–µå–µå–µ"; // ç§æœ‰å±æ€§ï¼šç»§æ‰¿çš„å®ä¾‹æ— æ³•è®¿é—®
  var laugh = function(){
    console.log("å“ˆå“ˆ");
  } // ç§æœ‰æ–¹æ³•ï¼Œå®ä¾‹è°ƒç”¨æŠ¥é”™ï¼ŒCatè‡ªå·±åªèƒ½åœ¨å†…éƒ¨è°ƒç”¨ï¼Œä¸èƒ½å†å¤–éƒ¨é€šè¿‡ Cat.laugh è°ƒç”¨
  this.fight = function(){}; // å…±æœ‰æ–¹æ³•ï¼Œç›´æ¥æ˜¾ç¤ºåœ¨ç»§æ‰¿çš„å°catå¯¹è±¡ä¸Š(å’ŒCat.prototype.fightåŒºåˆ«)
}
Cat.drawing = function(){}; // é™æ€æ–¹æ³•ï¼šåªèƒ½Catè‡ªå·±è°ƒç”¨ï¼Œå®ä¾‹ä¼šæŠ¥é”™
Cat.prototype.wc = function(){}; // åœ¨åŸå‹å¯¹è±¡ä¸Šçš„æ–¹æ³•ï¼Œå®ä¾‹ä¹Ÿèƒ½è°ƒç”¨ï¼Œä½†æ˜¯ä¸ç›´æ¥æ˜¾ç¤ºåœ¨å®ä¾‹å’ŒCat
```



## `Object` æ–¹æ³•è®¿é—®å±æ€§

```js
const cat = new Cat('cute');
// 1.for...in èƒ½æ‹¿åˆ°æ‰€æœ‰çš„å±æ€§å’Œæ–¹æ³•(è‡ªèº«å’ŒåŸå‹é“¾ä¸Šçš„)
for (const key in cat) console.log(key);
// 2.Object.keys() åªèƒ½æ‹¿åˆ°å¯¹è±¡è‡ªèº«çš„(åŸå‹é“¾ä¸Šçš„ä¸è¡Œ) è¾“å‡ºå±æ€§åæ•°ç»„
console.log(Object.keys(cat));
// 3.Object.getOwnPropertyNames() å’Œ keys æ–¹æ³•ä¸€æ¨¡ä¸€æ ·
console.log(Object.getOwnPropertyNames(cat));
// 4.cat.hasOwnProperty() æ£€æµ‹æ˜¯å¦æ˜¯è‡ªèº«å±æ€§å’Œæ–¹æ³•
console.log(cat.hasOwnProperty('name')); // true
```



## æ€»ç»“

1. ç§æœ‰ï¼šåœ¨æ„é€ å‡½æ•°ä¸Šå®šä¹‰çš„å˜é‡æˆ–æ–¹æ³•ï¼Œåªèƒ½åœ¨æ„é€ å‡½æ•°å†…éƒ¨è¿›è¡Œè°ƒç”¨ï¼Œå‡ºäº†å‡½æ•°ç”¨ä¸äº†ã€‚
2. é™æ€ï¼šåªèƒ½æ„é€ å‡½æ•°è°ƒç”¨ `Cat.fight()` ï¼Œå®ä¾‹ä½¿ç”¨ä¼šæŠ¥é”™ã€‚
3. åŸå‹å¯¹è±¡ä¸Šçš„æ–¹æ³•å’Œ `this.cry` ä¸¤ç§å±äºå…¬æœ‰ï¼Œéƒ½èƒ½è®¿é—®ã€‚åŒºåˆ«æ˜¯æ˜¯å¦ç›´æ¥æ˜¾ç¤ºåœ¨å‡½æ•°ä¸Šã€‚ 







# 14. Babel æ˜¯å¦‚ä½•ç¼–è¯‘ Class çš„

## Babel

 å…ˆç®€å•ä»‹ç»ä¸€ä¸‹ `Babel` ã€‚`Babel` æ˜¯ä»£ç è½¬æ¢å™¨ï¼Œæ¯”å¦‚å°† ES6 è½¬æˆ ES5ï¼ŒJSX è½¬æˆ JS ç­‰ã€‚å…¶ä¸­æœ‰ä¸¤ä¸ªé‡è¦çš„ APIâ€”â€” `plugin` å’Œ `preset` ã€‚



### `plugin`

å®ç° `Babel` ä»£ç çš„æ ¸å¿ƒåŠŸèƒ½å°±æ˜¯ Babel æ’ä»¶(plugin)ã€‚

> åŸå§‹ä»£ç  => [Babel Plugin] => è½¬æ¢åçš„ä»£ç 

ä¸¾ä¸ªä¾‹å­ï¼š

```js
[1, 2, 3].map(n => n + 1);
// é€šè¿‡å®‰è£…æ’ä»¶ä¾‹å¦‚ï¼šnpm install --save-dev babel-plugin-transform-es2015-arrow-functions
// è½¬æ¢ç»“æœ
[1, 2, 3].map(function(n){
  return n + 1;
})
```



### `preset`

`Babel` æ’ä»¶éœ€è¦å¼€å‘è€…æŒ‰éœ€å¼•å…¥ï¼Œä¾‹å¦‚ä¸Šé¢çš„ç®­å¤´å‡½æ•°å°±æ˜¯ä¸€ä¸ªå°æ’ä»¶ï¼Œå…³äº ES6 è½¬ES5 çš„æ’ä»¶æœ‰ 20 å¤šä¸ªã€‚è¿™æ ·èƒ½æé«˜æ€§èƒ½å’Œæ‰©å±•æ€§ã€‚ä½†æ˜¯ï¼Œè¿™æ ·æ’å…¥ä¹Ÿæœ‰æ•ˆç‡ä½çš„é—®é¢˜ï¼Œæ‰€ä»¥ `Preset` å°±æ˜¯ç”¨æ¥è§£å†³è¿™ä¸ªé—®é¢˜çš„ã€‚ç®€å•æ¥è¯´ï¼Œæˆ‘ä»¬å¯ä»¥å§ `Babel Preset` è§†ä¸º `Babel Plugin` çš„é›†åˆã€‚ä¾‹å¦‚ï¼š`babel-preset-es2015` å°±æ˜¯æœ‰å…³ ES6 è½¬ ES5 çš„æ’ä»¶é›†åˆã€‚



### ä¸¤è€…æ··ç”¨

åœ¨å¼€å‘ä¸­ï¼Œéœ€è¦å¯¹ `Babel` æ–‡ä»¶è¿›è¡Œé…ç½®ï¼Œå®é™…å°±æ˜¯é…ç½® `Preset` å’Œ `Plugin` ã€‚

```js
{
    "presets": [ 
        presetName01, // æ²¡æœ‰é…ç½®
        [ presetName02, presetOptions02 ] // æœ‰é…ç½®
    ],
    "presets": [
    	["es2015", {
      	"loose": true,
      	"modules": false
    	}]
  	],
}
```





## `Class` ç¼–è¯‘è¿‡ç¨‹

1. `Class` ä¼šå°è£…æˆä¸€ä¸ª `IIFE` ç«‹å³æ‰§è¡Œå‡½æ•°ã€‚
2. ç«‹å³æ‰§è¡Œå‡½æ•°è¿”å›çš„æ˜¯ä¸€ä¸ªä¸ç±»åŒåçš„æ„é€ å‡½æ•°ã€‚
3. å®ä¾‹å±æ€§å’Œæ–¹æ³•å®šä¹‰åœ¨æ„é€ å‡½æ•°å†… ( å¦‚ `name` å’Œ `getSex()` )
4. ç±»å†…éƒ¨å£°æ˜çš„å±æ€§æ–¹æ³•( `getName` )å’Œé™æ€å±æ€§æ–¹æ³•( `getLook` )æ˜¯ä¼šè¢« `Object.defineProperty` æ‰€å¤„ç†ï¼Œå°†å…¶å¯æšä¸¾å±æ€§è®¾ç½®ä¸º `false`

> `Object.defineProperty` æ–¹æ³•ï¼š
>
> ```js
> Object.defineProperty(Cat, 'defPro', { 
>   value: 13,
>   writable: false,
>   enumerable: true/false,
>   
> });
> const cat = new Cat();
> console.log(Cat.defPro); // 13
> console.log(cat.defPro); // undefined
> ```
>
> ä»ä¸Šé¢å¯ä»¥çœ‹å‡ºï¼Œ==è¯¥æ–¹æ³•åˆ›é€ çš„æ˜¯å¯¹è±¡çš„é™æ€å±æ€§ï¼Œå®ä¾‹æ— æ³•è®¿é—®åˆ°ã€‚==





# 15. JS çš„ä¸‰ç§åŠ è½½æ–¹å¼

## æ­£å¸¸æ¨¡å¼

```js
<script src='index.js'></script>
```

è¿™ç§æƒ…å†µï¼ŒJS åŠ è½½ä¼šé˜»å¡æµè§ˆå™¨å‘ä¸‹æ‰§è¡Œï¼Œ==å¿…é¡»ç­‰å¾…åŠ è½½å’Œæ‰§è¡Œå®Œæ¯•æ‰èƒ½å»åšå…¶ä»–äº‹æƒ…==ã€‚

## `async` å¼‚æ­¥æ¨¡å¼

```js
<script async src="index.js"></script>
```

`async` æ¨¡å¼ä¸‹ï¼ŒJS ä¸ä¼šé˜»å¡æµè§ˆå™¨åšå…¶ä»–äº‹æƒ…ã€‚==åŠ è½½æ—¶å¼‚æ­¥çš„ï¼ŒåŠ è½½ç»“æŸå JS ç«‹å³æ‰§è¡Œ==ã€‚

## `defer` å»¶ç¼“æ¨¡å¼

```js
<script defer src="index.js"></script>
```

`defer` æ¨¡å¼ä¸‹ï¼ŒJS åŠ è½½æ—¶å¼‚æ­¥çš„ï¼Œå¹¶ä¸”æ‰§è¡Œè¦ç­‰åˆ°æ–‡æ¡£å…¨éƒ¨è§£æå®Œã€DOMContentLoaded äº‹ä»¶è§¦å‘æ—¶æ‰æ‰§è¡Œã€‚





# 16. å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡



**å…ˆæ‰§è¡Œå®ä»»åŠ¡é˜Ÿåˆ—ï¼Œç„¶åæ‰§è¡Œå¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œç„¶åå¼€å§‹ä¸‹ä¸€è½®äº‹ä»¶å¾ªç¯ï¼Œç»§ç»­å…ˆæ‰§è¡Œå®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå†æ‰§è¡Œå¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚**

- å®ä»»åŠ¡ï¼šscript/setTimeout/setInterval/setImmediate/ I/O / UI Rendering
- å¾®ä»»åŠ¡ï¼šprocess.nextTick()/Promise





# 17. æ‰‹å†™æ•°ç»„æ‰å¹³åŒ–

```js
function flatten(arr){
  const res = [];
  
  for(let i=0;i<arr.length;i++){
    if(Array.isArray(arr[i])) res = res.concat(flatten(arr[i]));
    else res = res.concat(arr[i]);
  }
  return res;
}
```







# 18. é”™è¯¯ç±»å‹

- `Range Error` ï¼šæ¯”å¦‚ `const dp = Array(-1)` ã€‚
- `Reference Error` ï¼šæ¯”å¦‚ `console.log(a), a is not defined` ã€‚
- `Type Error` ï¼šæ¯”å¦‚ `var a = 1; a() => a is not function` ã€‚
- `Syntax Error` ï¼šè¯­æ³•é”™è¯¯ã€‚





# 19. `setInterval` çš„ç»†èŠ‚

1. é‡Œé¢çš„ `this` æŒ‡å‘ `window` ã€‚

2. `setTimeout` æ—¶é—´ä¸èƒ½è®¾ç½®æˆ 0ï¼Œå¦‚æœæ˜¯ 0ï¼ŒH5 è§„å®šæœ€å°å€¼æ˜¯4ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨ç»™ä½ åŠ ä¸Š 4 æ¯«ç§’ã€‚

3. `setInterval` ä¼šç²¾ç¡®æ—¶é—´æŠŠæ¯æ¬¡ä»»åŠ¡æ¨åˆ°ä»»åŠ¡é˜Ÿåˆ—ï¼Œä¹Ÿå°±æ˜¯è¯´==æ— è®ºä¸Šä¸ª `setInterval` äº‹ä»¶æ˜¯å¦å·²æ‰§è¡Œï¼Œéƒ½ä¼šæŒ‰ç…§æ—¶é—´ä¸¥æ ¼æ¨å…¥ä¸‹ä¸€ä¸ªäº‹ä»¶ï¼Œæ‰€ä»¥å¯èƒ½é€ æˆäº‹ä»¶ç´¯ç§¯ï¼Œå¯¼è‡´ `setInterval` ä»£ç è¿ç»­é‡å¤æ‰§è¡Œï¼Œå½±å“é¡µé¢æ€§èƒ½ã€‚== `setTimeout` ä¼šå…ˆæŸ¥çœ‹æ˜¯å¦æœ‰ä¸»çº¿ç¨‹æ‰§è¡Œäº‹ä»¶ï¼Œæœ‰çš„è¯æ‰ä¼šåœ¨æŒ‡å®šæ—¶é—´æ¨å…¥ä»»åŠ¡é˜Ÿåˆ—ï¼Œæ‰§è¡Œèµ·æ¥è‚¯å®šæ¯”æŒ‡å®šæ—¶é—´ä¹…ã€‚ 

   ä¸ºäº†é¿å… `setInterval` å¯èƒ½çš„è¿ç»­æ‰§è¡Œï¼Œæ‰€ä»¥ç”¨ `setTimeout` æ¥å®ŒæˆæŒ‡å®šé—´éš”æ‰§è¡Œæ—¶é—´ï¼Œé¿å…è¿ç»­è¿è¡Œã€‚

   ```html
   <body>
     <div class="div"></div>
     <script>
       const div = document.querySelector('.div');
       var start = true;
       makeSetInterval(test);
       function makeSetInterval() {
         if (start) {
           setTimeout(() => {
             //console.log(new Date());
             //æ‰§è¡Œçš„function
             test();
             makeSetInterval();
           }, 1000);
         } else {
           console.log('åœæ­¢è¿è¡Œ');
         }
       }
       var test = function () {
         div.innerHTML = new Date();
       };
     </script>
   </body>  
   ```

   



# 20. èŠ‚æµå’Œé˜²æŠ–

## é˜²æŠ–

**ç¬¬ä¸€æ¬¡è§¦å‘äº‹ä»¶æ—¶ï¼Œä¸ç«‹å³æ‰§è¡Œå‡½æ•°ï¼Œè€Œæ˜¯ç»™å‡ºä¸€ä¸ªæ—¶é—´ 200 ms**

- 200 ms å†…æ²¡æœ‰å†æ¬¡è§¦å‘å°±æ‰§è¡Œå‡½æ•°ã€‚
- å¦‚æœ 200 ms å†…æœ‰å†æ¬¡è§¦å‘ï¼Œå°±é‡æ–°å¼€å§‹è®¡æ—¶ï¼Œç›´åˆ°æ²¡æœ‰åœ¨ 200 ms å†…è§¦å‘æ—¶æ‰§è¡Œã€‚

==æ•ˆæœï¼šå¦‚æœçŸ­æ—¶é—´å¤šæ¬¡è§¦å‘ï¼Œåªä¼šæ‰§è¡Œæœ€åä¸€æ¬¡==

ä¸‹é¢çš„åœºæ™¯æ—¶ï¼Œæ»šåŠ¨é¡µé¢æ—¶ï¼Œè¿‡ 200 ms æ‰ä¼šå»æœ€åæ‰§è¡Œä¸€æ¬¡ï¼Œæ‰“å°å½“å‰çš„æ»šåŠ¨æ¡ä½ç½®ã€‚

```js
<body>
  <div style="height: 2000px; width: 500px; background-color: yellow"></div>
  <script>
    function showTop() {
      let scrollTop = document.body.scrollTop || document.documentElement.scrollTop;
      console.log('æ»šåŠ¨æ¡ä½ç½®', scrollTop);
    }
    window.onscroll = debounce(showTop, 200);

    function debounce(fn, delay) {
      let timer = null;
      return function () {
        if (timer) {
          clearTimeout(timer);
        }
        timer = setTimeout(() => {
        	fn.apply(this, arguments);  
        }, delay);
      };
    }
  </script>
</body>
```

å®ç°é¦–æ¬¡æ‰§è¡Œæ•ˆæœï¼š

```js
function debounce(fn, delay = 200, atBegin = true) {
  let timer = null,
    last = 0,
    during;
  return function () {
    let self = this,
      args = arguments;
    let exec = function () {
      fn.apply(self, args);
    };
    if (atBegin && !timer) {
      exec();
      atBegin = false;
    } else {
      during = Date.now() - last;
      if (during > delay) exec();
      else {
        if (timer) clearTimeout(timer);
        timer = setTimeout(() => exec(), delay);
      }
    }
    last = Date.now();
  };
}
```





## èŠ‚æµ

ä¸Šè¿°æ¡ˆä¾‹ä¸­ï¼Œå¦‚æœç”¨æˆ·é—²çš„æ— èŠä¸€ç›´æ‹–ç€æ»šåŠ¨æ¡ä¸æ”¾æ‰‹é‚£ä¹ˆå°±ä¸€ç›´æ— æ³•æ‰§è¡Œè¾“å‡ºã€‚ä¸ºäº†è¿›ä¸€æ­¥æ”¹è¿›ï¼Œæˆ‘ä»¬ç”¨åˆ°**èŠ‚æµ**ã€‚å³ä½¿ç”¨æˆ·æ‹–ç€æ»šåŠ¨æ¡ï¼Œä¹Ÿèƒ½åœ¨å›ºå®šçš„æ—¶é—´é—´éš”ç»™å‡ºåé¦ˆã€‚

==æ•ˆæœï¼šå‡½æ•°æ‰§è¡Œä¸€æ¬¡åï¼Œåœ¨å›ºå®šæ—¶é—´æœŸé™å†…ä¸ä¼šåœ¨æ‰§è¡Œï¼Œç›´åˆ°è¿‡äº†æ—¶é—´åè§¦å‘æ‰æ‰§è¡Œç¬¬äºŒæ¬¡==

```js
function throttle(fn, delay) {
  let valid = true;
  return function () {
    // validæ˜¯falseæ—¶ä¼‘æ¯
    if (!valid) return false;
    valid = false;
    setTimeout(() => {
      fn.apply(this, arguments);
      valid = true;
    }, delay);
  };
}
```

ä¸åˆ©ç”¨ `setTimeout` çš„æ–¹æ³•ï¼Œèƒ½å®ç°é¦–æ¬¡æ‰§è¡Œï¼š

```js
function throttle(fn, delay = 500, atBegin = true) {
  let last = atBegin ? 0 : +new Date();
  return function () {
    let cur = +new Date();
    if (cur - last > delay) {
      fn.apply(this, arguments);
      last = cur;
    }
  };
}
```





# 21. ajax å°è£…

```js
<script>
  function myAjax(option) {
    const init = {
      type: 'get',
      async: true,
      url: '',
      contentType: 'application/x-www-form-urlencoded',
      success: function () {},
      error: function () {},
      data: {},
      timeout: 10 * 1000,
    };
    // 1.åˆå¹¶initå’Œoption
    for (const k in option) {
      init[k] = option[k];
    }
    // 2.è½¬æ¢å‚æ•°
    let params = '';
    if (init.data) {
      for (const k in init.data) {
        patams += `&${k}=${init.data[k]}`;
      }
    }
    // 3.å¯åŠ¨ajaxè¯·æ±‚
    const xhr = new XMLHttpRequest();
    // 4.è¯·æ±‚ç±»å‹
    if (['GET', 'get'].includes(init.type)) {
      xhr.open('GET', init.url + '?' + params, true);
      xhr.send(null);
    } else if (['POST', 'post'].includes(init.type)) {
      xhr.open('POST', init.url, true);
      //postè¯·æ±‚å‚æ•°æ”¾åœ¨xhr.send()ä¸­
      xhr.send(params);
      xhr.setRequestHeader('Content-type', init.contentType);
    
    // 5.è®¾ç½®æœ‰æ•ˆæ—¶é—´
    setTimeout(function () {
      if (xhr.readyState !== 4) xhr.abort();
    }, init.timeout)
    // 6.è·å¾—å“åº”
    xhr.onreadystatechange = function () {
      if (xhr.readyState === 4) {
        let status = xhr.status;
        if ((status >= 200 && status < 300) || status === 304) {
          init.success && init.success(xhr.responseText, xhr.responseXML);
        } else {
          init.error && init.error(status);
        }
      }
    };
  }
</script>
```











# 22. offsetï½œclientï½œscroll

## `client`

- `clientWidth` å’Œ `clientHeight` ï¼šè¡¨ç¤ºå¯è§†åŒºåŸŸçš„é«˜åº¦å’Œå®½åº¦(åªåŒ…æ‹¬ `padding` ï¼Œ`border` å’Œ `margin` å’Œæ»šåŠ¨æ¡ä¸åŒ…æ‹¬)ã€‚
- `clientLeft` å’Œ `clientRight` ï¼š==è¡¨ç¤ºè¾¹æ¡† `border` çš„å®½åº¦==

<img src="images/%E6%88%AA%E5%B1%8F2021-02-18%20%E4%B8%8B%E5%8D%885.53.28.png" alt="æˆªå±2021-02-18 ä¸‹åˆ5.53.28" style="zoom:50%;" />







## `offset`

### `offsetParent`

è¡¨ç¤ºå¸¦æœ‰å®šä½çš„çˆ¶ç›’å­ï¼Œä¸€è·¯å‘ä¸Šæ‰¾ï¼Œå¦‚æœéƒ½æ²¡æœ‰å°±æ˜¯ `body` ã€‚

### `offsetWidth/Height` ï¼š

- åŒ…æ‹¬ `padding` ã€`border` ã€æ°´å¹³æ»šåŠ¨æ¡ï¼Œä¸åŒ…æ‹¬ `margin`ã€‚
- ==åªè¯»å±æ€§ï¼Œä¸èƒ½è®¾ç½®==

### `offsetTop/Left` 

==è¡¨ç¤ºå½“å‰å…ƒç´ è·ç¦»æœ€è¿‘ `offsetParent` è¾¹æ¡†çš„è·ç¦»==

![æˆªå±2021-02-18 ä¸‹åˆ6.01.17](images/%E6%88%AA%E5%B1%8F2021-02-18%20%E4%B8%8B%E5%8D%886.01.17.png)





## `scroll`

è·å–å…ƒç´ å†…å®¹çš„çœŸå®å®½é«˜ï¼Œ==ä¸åŒ…æ‹¬ `padding` å’Œ `border`==

- `scrollWidth/Height` ï¼šé¡µé¢æ­£æ–‡çš„å®½åº¦å’Œé«˜åº¦ã€‚
- `scrollTop/Left` ï¼šé¡µé¢è¢«å·çš„é«˜åº¦å’Œå®½åº¦ã€‚



## ğŸŒŸé¼ æ ‡åæ ‡äº‹ä»¶

- `event.clientX/Y` ï¼šè§¦å‘ç‚¹åœ¨æµè§ˆå™¨å¯è§†åŒºåŸŸçš„å·¦ä¸Šè§’è·ç¦»ï¼Œä¸éšé¡µé¢æ»šåŠ¨æ”¹å˜ã€‚
- `event.pageX/Y` ï¼šè§¦å‘ç‚¹ç›¸å¯¹æ–‡æ¡£çš„å·¦ä¸Šè§’è·ç¦»ã€‚
- `event.offsetX/Y` ï¼šè§¦å‘ç‚¹ç›¸å¯¹äºè¢«è§¦å‘ç›’å­çš„è·ç¦»ã€‚==ä¸åŒ…æ‹¬è¾¹æ¡†ï¼Œè§¦å‘è¾¹æ¡†è¿”å›è´Ÿå€¼==ã€‚
- `event.layerX/Y` ï¼šè§¦å‘ç‚¹ç›¸å¯¹äºè¢«è§¦å‘ç›’å­(==ç›’å­è¦æœ‰å®šä½ï¼==)çš„è·ç¦»ã€‚
- `event.screenX/Y` ï¼šè§¦å‘ç‚¹ç›¸å¯¹äºæ˜¾ç¤ºå±å¹•çš„å·¦ä¸Šè§’è·ç¦»ã€‚

![æˆªå±2021-02-18 ä¸‹åˆ8.39.51](images/%E6%88%AA%E5%B1%8F2021-02-18%20%E4%B8%8B%E5%8D%888.39.51.png)







## åŒºåˆ«

- `Left` å’Œ `Top` ï¼š
  - `offset` ï¼šå½“å‰å…ƒç´ è·ç¦»æœ‰å®šä½çˆ¶ç›’å­çš„è·ç¦»ã€‚
  - `scroll` ï¼šæ»šåŠ¨è¢«å·çš„è·ç¦»ã€‚
  - `client` ï¼šå…ƒç´ çš„è¾¹æ¡† `border` å®½åº¦ã€‚
- `Width` å’Œ `Height` ï¼š
  - `offset` ï¼šå†…å®¹ + `padding` + `border` ã€‚
  - `scroll` ï¼šæ»šåŠ¨å†…å®¹çš„å®½é«˜ã€‚
  - `client` ï¼šå†…å®¹ + `padding` ã€‚





## å‚è€ƒ

1. https://www.cnblogs.com/moqiutao/p/5050225.html

 

# 23. æ‹–æ‹½åŠŸèƒ½

## 1. `draggable` å±æ€§

å±äº H5 çš„ `Chrome` å’Œ `safari` æ”¯æŒï¼Œå…¶ä»–éƒ½ä¸æ”¯æŒã€‚



```js
ondragenter: é¼ æ ‡è¿›å…¥åè§¦å‘
ondragover: æ‹–æ‹½ç‰©ä½“åœ¨ç›®æ ‡åŒºåŸŸç§»åŠ¨ä¸åœçš„è§¦å‘
ondragleave: é¼ æ ‡å¸¦ç€ç‰©ä½“ç¦»å¼€ç›®æ ‡åŒºåŸŸè§¦å‘
ondrop: 
```

![æˆªå±2021-02-18 ä¸‹åˆ6.16.41](images/%E6%88%AA%E5%B1%8F2021-02-18%20%E4%B8%8B%E5%8D%886.16.41.png)





## 2. é¼ æ ‡äº‹ä»¶

é…åˆåæ ‡ç³»ä½¿ç”¨ã€‚

- `mousedown` ï¼šé¼ æ ‡æŒ‰ä¸‹ã€‚
- `mousemove` ï¼šé¼ æ ‡ç§»åŠ¨ã€‚
- `mouseup` ï¼šé¼ æ ‡æ¾å¼€ã€‚

![æˆªå±2021-02-18 ä¸‹åˆ8.32.30](images/%E6%88%AA%E5%B1%8F2021-02-18%20%E4%B8%8B%E5%8D%888.32.30.png)









# 23. CSSé€‰æ‹©å™¨

| é€‰æ‹©å™¨         | ç”¨æ³•                  | ä¼˜å…ˆçº§ |
| -------------- | --------------------- | ------ |
| idé€‰æ‹©å™¨       | #myid                 | 100    |
| ç±»é€‰æ‹©å™¨       | .myclassname          | 10     |
| æ ‡ç­¾é€‰æ‹©å™¨     | div,h1,p              | 1      |
| ç›¸é‚»é€‰æ‹©å™¨     | h1+p                  |        |
| å­é€‰æ‹©å™¨       | ul > li               |        |
| åä»£é€‰æ‹©å™¨     | li a                  |        |
| é€šé…ç¬¦é€‰æ‹©å™¨   | *                     |        |
| ==å±æ€§é€‰æ‹©å™¨== | ==a[rel="external"]== |        |
| ä¼ªç±»é€‰æ‹©å™¨     | a:hover, li:nth-child |        |
| é€‰æ‹©ç´§æŒ¨ç€çš„   | X~Y                   |        |



## å±æ€§é€‰æ‹©å™¨

==åœ¨æ ‡ç­¾ä¸Šçš„æ‰€æœ‰å±æ€§éƒ½é€‚ç”¨==

å¯¹æ‰€æœ‰å«æœ‰è¯¥å±æ€§çš„æ ‡ç­¾æœ‰æ•ˆï¼š

```html
<style>
  [title] {
    color: red; 1.
  }
  a[href] {
    ...2. å¯¹æ‰€æœ‰æœ‰hrefå±æ€§çš„ç”Ÿæ•ˆ
  }
  a[href][title] {
		...3. ä¹Ÿå¯ä»¥å¤šç§å±æ€§ä¸€èµ·é€‰æ‹©
  }
  [title~=flower] {
    ...4. é€‰æ‹©titleå±æ€§åŒ…å«å•è¯flowerçš„å…ƒç´ 
  }
  div[class^="test"] {
    ...5. ä»¥testå¼€å¤´çš„classæ‰€æœ‰div
  }
  div[class$="test"] {
    ...6. ä»¥testç»“å°¾çš„classæ‰€æœ‰div
  }
  div[class*="test"] {
    ...7. åŒ…å«testå­—æ®µçš„classæ‰€æœ‰div
  }
</style>
<body>
    <div title="heheeh">å“ˆå“ˆå“ˆå“ˆ</div>
    <a href="#" title="a">yesi</a>
    <h2 title="hahah ">lalal</h2>
</body>
```



## ä¼ªç±»é€‰æ‹©å™¨

### `<a>` æ ‡ç­¾ä¸Šçš„

1. `:link` ï¼šè¶…é“¾æ¥ç‚¹å‡»å‰ã€‚
2. `:visited` ï¼šç‚¹å‡»åã€‚
3. `:hover` ï¼šæ‚¬åœæ—¶ã€‚
4. `:active` ï¼šç‚¹å‡»ä¸æ¾æ‰‹æ—¶ã€‚

==è®°ä½ä¸€å®šè¦æŒ‰ç…§è¿™ä¸ªé¡ºåºå†™ css==



## ç»“æ„ä¼ªç±»é€‰æ‹©å™¨

```css
ul li:first-child
ul li:last-child
ul li:nth-child(n)
ul li:nth-last-child(n) å€’æ•°ç¬¬nä¸ª
ul li:nth-child(2n|2n+1|5n|...)
ul li:nth-child(odd) å¥‡æ•°çš„
ul li:nth-child(even) å¶æ•°çš„
ul li:first-of-type æŒ‡å®šç±»å‹çš„ç¬¬ä¸€ä¸ª
ul li:last-of-type
ul li:nth-of-type(n)
```



## ä¼ªå…ƒç´ é€‰æ‹©å™¨

`E::before` `E::after`

==æ³¨æ„äº‹é¡¹==

1. å¿…é¡»æœ‰ `content` å±æ€§ã€‚
2. å±äº==è¡Œå†…å…ƒç´ ==ã€‚
3. ==æƒé‡ä¸º 1==



## CSS æ€§èƒ½æå‡æ³¨æ„

1. é¿å…ç”¨æ ‡ç­¾æˆ– class é™åˆ¶ id é€‰æ‹©å™¨ã€‚ `button#btn` | `.menu#btn`ã€‚
2. é¿å…ä½¿ç”¨æ ‡ç­¾é™åˆ¶ class é€‰æ‹©å™¨ã€‚
3. é¿å…ä½¿ç”¨å¤šå±‚æ ‡ç­¾é€‰æ‹©ï¼Œç›´æ¥ä½¿ç”¨ class é€‰æ‹©å™¨ï¼Œå‡å°‘ css æŸ¥æ‰¾ã€‚
4. é¿å…ä½¿ç”¨å­é€‰æ‹©å™¨ã€‚

```css
// 1.idé€‰æ‹©å™¨æ˜¯å”¯ä¸€çš„ï¼Œæ²¡å¿…è¦åœ¨å‰é¢åŠ é™å®š
div#divBox => #divBox
// 2.ä¸åœ¨classå‰åŠ æ ‡ç­¾
```





## å‚è€ƒ

1. https://www.w3cschool.cn/css/css-selector.html























