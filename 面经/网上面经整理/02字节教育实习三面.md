[原文链接](https://www.nowcoder.com/discuss/595028?source_id=profile_create_nctrack&channel=-1)



# 一面(50min)

## 1. 你什么时候开始学前端的，什么方法。

## 2. 爬虫问题

```js
爬虫在爬取页面前，需要对url列表进行标准化，实现一个处理url列表的函数：对缺少http前缀的url添加前缀，返回的url不能重复。
示例：
["nodejs.org", "http://nodejs.org", "http://bytedance.com"] => ["http://nodejs.org", "http://bytedance.com"]
签名函数：
function formaturl(urllist){}
```

自己的实现，不知有没有更好的方法或者有什么漏洞：

```js
function formaturl(urlList) {
  const set = new Set();
  for (let i = 0; i < urlList.length; i++) {
    if (urlList[i].indexOf('http://') === 0) set.add(urlList[i]);
    else set.add('http://' + urlList[i]);
  }
  return [...set];
}
console.log(formaturl(['nodejs.org', 'http://nodejs.org', 'http://bytedance.com']));
```



## 3. 算法题

```js
A、B从一个石子堆里抓石子，交替进行，一个人可以抓1或者2颗，A先走，几种可能性。（我写的走梯子。。。但面试官让我对比一下
```

和 [Leetcode 爬楼梯](https://leetcode-cn.com/problems/climbing-stairs/submissions/)是一个类型。

```js
/**
 * @param {number} n
 * @return {number}
 */
var climbStairs = function(n) {
  if(n<3) return n;
  const dp = new Array(n+1).fill(0);
  dp[0] = 0, dp[1] = 1, dp[2] = 2;
  for(let i=3;i<n+1;i++){
    dp[i] = dp[i-1] + dp[i-2];
  }
  return dp[n];
};
```

我个人认为，应该是爬梯子的结果✖️2，因为考虑 A 先手还是 B 先手，所以情况✖️2。

## 4. 算法题

```js
接着第四题: 最后抓的算负，16颗的情况下，A、B有必胜可能么(谁先抓，怎么抓，谁必胜)。
```



6.Vue路由的两种模式的区别。(主要是一些改变url不发送请求，然后hashchange,pushState之类的)
6.说一说vue的响应式原理
7.说一说vue的虚拟Dom
8.说一说Diff[算法]()(简单讲了一下patch的过程，和4种优化策略，节点移动，双端指针这种)
9.我看你用了express，你知道express的一些中间件吗?(我说，简单使用，没有深入了解，然后就没问了)
10.你说一下HTTP首部有哪些(一共说了20多个),content-Type你平常post是什么，我说基本都是formdata
11.UDP和TCP的区别
12.TCP怎么实现一个可靠传输的(说一了下停止等待协议，滑动窗口，连续ARQ的过程)
13.我看你写了聊天室，能说说websocket握手的过程吗(101状态码，upGrade, set-websocket-key, connection: upgrade,sec-websocket-value等)
14.html解析的时候遇到script标签会阻塞吗？（会 ，然后提到script的位置，和async,defer，继续追问defer和async的区别）
15.实现instanceOf

反问:我有哪些做的不好的。（都挺好的），如果要给一些建议的话，可能就是去接触一些其他的知识。
（有时间吗，马上给你安排二面）

# 二面(55min)

1.说一说$nextTick。(提到了异步更新，微任务，一些降级选择--promise,setInmidiate,setTimeOut，面试官补充了一个mutationOberser)。
2.用过[keep]()-alive吗，说说怎么实现的。
3.接着上一题：如果我在当前展示的页面去改变其他页面组件的数据，这个组件能实时拿到最新的吗？什么时候能拿到？(这个我不太知道，就简单的说了一下自己的理解)
4.Vue有几类Watcher? 3 （扯到computed和watch选项去了，后来面试官提示我，我才缓过来，但还是没什么思路，猜了渲染函数Watcher,组件watcher。。。。用户自定义watcher没想到）。

## 5. 数据结构题

**第一道：**

```js
var a = [0];
if (a) {
  console.log(a == true);
} else {
  console.log(a);
}
```

分析：

- JS 在做 `if(condition)` 判断的时：会把 `condition` 转成 `boolean` ，`[0]` 是一个有值的数组，所以应该被转成 `true` 。

- JS 在做 `A==B` 的时候，如果 A 和 B 的类型不一样，会先转成一样的，通常转成 `number` 。

  ```js
  // 1.处理true
  true => 1
  // 2.处理[0]
  [0] => 原型链往上找 Array => Object(valueOf()/toString())
  [0].valueOf() = [0] 没用
  [0].toString() = "0" 所以结果是"0"
  "0" => 0
  1 !== 0
  // 答案
  所以答案是 false
  ```



**第二道：**

```js
var a = 10;
(function () {
    console.log(a);
    a = 5;
    console.log(window.a);
    console.log(a);
    var a = 20;// 如果var a=20改成let a = 20;打印什么
    console.log(a);
})()
```

很简单的变量提升问题。首先立即执行函数的 `this` 指向 `window` 。

```js
var a = 10;
(function () {
    console.log(a); // undefined 变量提升，可以在作用域内访问到
    a = 5;
    console.log(window.a); // 10
    console.log(a); // 5 a可以访问到，因为已经赋值为5，所以可以访问到
    var a = 20;
    console.log(a); // 相当于重新定义了
})()
```

用 `let` 后，会在这个立即执行函数中产生一个块级作用域，所以函数中的 `a` 已经变成了块级作用域的 `a` 变量与全局变量 `a` 无关，所以提前访问 `a` 会报错。





## 6. 算法题

[Leetcode原题：二叉树的右视图](https://leetcode-cn.com/problems/binary-tree-right-side-view/)

```js
给定一棵二叉树，想象自己站在它的右侧，按照从顶部到底部的顺序，返回从右侧所能看到的节点值。
```

用到广度优先搜索，也就是层序遍历，返回每一层中最右边的数就好。

```js
var rightSideView = function(root) {
  if(!root) return []
  const res = [];
  const q = [root];
  
  while(q.length){
    res.push(q[q.length-1].val);
    const n = q.length;
    for(let i=0;i<n;i++){
      const current = q.shift();
      if(current.left!==null) q.push(current.left);
      if(current.right!==null) q.push(current.right);
    }
  }
  return res;
};
```





s7.说一说盒子模型。你说IE盒模型用的多，你用这个解决了什么?(我说400px的盒子，我装两个width:200px宽度的盒子(然后加了border)，标准模型的话就会因为宽度不够换行，IE就不会)
8.你css用的多吗?(不多，平常就简单的布布局)
9.flex实现一个盒子里面包着一个盒子，让里面的盒子水平居中，贴着底部。(送分，开心)。
10.做题:求一个字符串 最长的 没有重复字符的 连续子串。leetCode的。做了后发现没比较最大长度、然后就卡住了一会儿。然后不让用slice,indexOf这些api去实现。
11.进程和线程的区别(一些基本的，然后补充了创建PCB，进程之间的通信方式(ipc,信号量等))
12.js基本数据类型有哪些。
13.ul下很多li li里有内容，事件代理打印li的内容。 (这里注意一下currentTarget和target的区别)
14.讲一下闭包(从作用域讲起)
15.CDN，CDN怎么查找最近的那个(没答上来)
没录音，二面有一些题忘了。。。

反问:我想请教一下您，Watcher有几类(我。。。我为什么要问，我下来[百度]()不久好了。。)，面试官很和谐的给我说三类。我说我下来[百度]()一下。
最后面试官问我:还有什么你觉得你擅长但没问到的呢？我说HTTP，TCP吧，或者输入URL到渲染的整个过程。回应:上一个面试官问过了。(好吧)。
（马上准备三面，但是面试官没时间，时间再定。）

两个面试官都超级好！！面试前让我不要紧张。感觉有些时候就是像在平常聊天一样（这道题你确定吗？我说：本来确定的，你这么一笑。。。我就不确定了。。）我也不知道为什么会说出来。。。。。

许愿三面过吧，